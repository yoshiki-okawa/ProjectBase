<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>ProjectBase</title>

	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link href="Content/bootstrap.min.css" rel="stylesheet" />

	<script src="Scripts/jquery-1.9.1.min.js"></script>
	<script src="Scripts/angular.min.js"></script>
	<script src="Scripts/angular-route.min.js"></script>
	<script src="Scripts/bootstrap.min.js"></script>
	<script src="Scripts/angular-ui/ui-bootstrap.min.js"></script>
	<script src="Scripts/ts.js"></script>
	<!--<script type="text/javascript" src="http://www.google.com/recaptcha/api/js/recaptcha_ajax.js"></script>

	 Wrapping the Recaptcha create method in a javascript function
	<script type="text/javascript">
		function showRecaptcha(element) {
			Recaptcha.create("6LcixAkAAAAAALngA3Iq3LkNOpFiH0rbZ8VPNrNV", element, {
				theme: "clean",
				callback: Recaptcha.focus_response_field
			});
		}
	</script> -->
</head>
<body>
	<div class="container">
		<input type="text" id="message" />
		<input type="button" id="sendmessage" value="Send" />
		<input type="hidden" id="displayname" />
		<ul id="discussion"></ul>
	</div>
	<!--Script references. -->
	<!--Reference the jQuery library. -->

	<div ng-controller="Application.Controllers.MyController">{{$scope.data}}</div>
	<div ng-view></div>
	<!--Reference the SignalR library. -->
	<!--<script src="Scripts/jquery.signalR-2.0.3.min.js"></script>-->
	<!--Reference the autogenerated SignalR hub script. -->
	<!--<script src="https://localhost:8000/PBService/signalr/hubs"></script>-->
	<!--Add script to update the page and send messages.-->
	<script type="text/javascript">
		$(function () {
			//Set the hubs URL for the connection
			/*$.connection.hub.url = "https://localhost:8000/PBService/signalr";

			// Declare a proxy to reference the hub.
			var hub = $.connection.progressHub;

			// Create a function that the hub can call to broadcast messages.
			hub.client.addMessage = function (percent, message) {
				// Html encode display name and message.
				var encodedPercent = $('<div />').text(percent).html();
				var encodedMsg = $('<div />').text(message).html();
				// Add the message to the page.
				$('#discussion').append('<li><strong>' + encodedPercent
					 + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
			};*/

			// Create a function that the hub can call to broadcast messages.
			/*$.ajax({
				type: "POST",
				data: "grant_type=password&username=admin",
				url: "https://localhost:8000/PBService/api/Token",
				contentType: "application/json"
			}).done(function (data) {
				alert(data);
			});
			$.ajax({
				type: "GET",
				url: "https://localhost:8000/PBService/api/account/test",
				contentType: "application/json"
			}).done(function (data) {
				alert(data);
			});*/

			/*
			$.ajax({
				type: "POST",
				url: "https://localhost:8000/PBService/api/token",
				contentType: "application/x-www-form-urlencoded",
				// /token cannot be authenticated by Bearer token.
				//headers: { "Authorization": "Bearer " + document.cookie.replace(/(?:(?:^|.*;\s*)access_token\s*\=\s*([^;]*).*$)|^.*$/, "$1") },
				data: "grant_type=password&username=admin&password=lvsuVWxWwkqfJvB9/bJCzg==",
				error: function (a, b, c) {
					alert(a + "," + b + "," + c);
					// Show login here
				}
			}).done(function (data) {
				alert(data);
				$.ajax({
					type: "GET",
					url: "https://localhost:8000/PBService/api/account/test",
					contentType: "application/json",
					headers: { "Authorization": "Bearer " + document.cookie.replace(/(?:(?:^|.*;\s*)access_token\s*\=\s*([^;]*).*$)|^.*$/, "$1") },
					error: function (a, b, c) {
						alert(a + "," + b + "," + c);
					},
					success: function (a, b, c) {
						alert(a + b + c);
					}
				}).done(function (data) {
					alert(data);
				});
			});*/
		});
	</script>
</body>
</html>